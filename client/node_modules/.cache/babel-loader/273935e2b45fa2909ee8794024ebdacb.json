{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; //custom hook for relevant product details, company name and website\n\nconst useProductDetails = productId => {\n  _s();\n\n  // const [company, setCompany] = useState(null);\n  // const [product, setProduct] = useState(null);\n  const [productDetails, setProductDetails] = useState(null);\n  useEffect(() => {\n    const fetchCompanyDetails = async companyID => {\n      const response = await fetch(`/companies/${companyID}`);\n      const resJSON = await response.json();\n      return resJSON.data;\n    }; // importing product into a useState\n\n\n    const fetchProductDetails = async productId => {\n      const response = await fetch(`/items/${productId}`);\n      const resJSON = await response.json();\n      const product = resJSON.data;\n      const company = await fetchCompanyDetails(product.companyId);\n      const productDetailsObj = { ...product,\n        companyName: company.name,\n        companyUrl: company.url\n      };\n      setProductDetails(productDetailsObj);\n    };\n\n    if (productId) {\n      fetchProductDetails(productId);\n    } // cleanup\n\n\n    return () => {\n      setProductDetails(null);\n    };\n  }, [productId]);\n  return [productDetails, setProductDetails];\n};\n\n_s(useProductDetails, \"Ts5e3RYu7xDIHRdmZQuQbCS51X8=\");\n\nexport default useProductDetails;","map":{"version":3,"sources":["/Users/helen-tran/Documents/Concordia-Bootcamp/Workshops/project-GROUP-e-commerce/client/src/hooks/use-product-details.hook.js"],"names":["React","useState","useEffect","useProductDetails","productId","productDetails","setProductDetails","fetchCompanyDetails","companyID","response","fetch","resJSON","json","data","fetchProductDetails","product","company","companyId","productDetailsObj","companyName","name","companyUrl","url"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CAEA;;AACA,MAAMC,iBAAiB,GAAIC,SAAD,IAAe;AAAA;;AACvC;AACA;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCL,QAAQ,CAAC,IAAD,CAApD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMK,mBAAmB,GAAG,MAAOC,SAAP,IAAqB;AAC/C,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaF,SAAU,EAAzB,CAA5B;AACA,YAAMG,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;AACA,aAAOD,OAAO,CAACE,IAAf;AACD,KAJD,CADc,CAOd;;;AACA,UAAMC,mBAAmB,GAAG,MAAOV,SAAP,IAAqB;AAC/C,YAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAE,UAASN,SAAU,EAArB,CAA5B;AACA,YAAMO,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;AACA,YAAMG,OAAO,GAAGJ,OAAO,CAACE,IAAxB;AAEA,YAAMG,OAAO,GAAG,MAAMT,mBAAmB,CAACQ,OAAO,CAACE,SAAT,CAAzC;AAEA,YAAMC,iBAAiB,GAAG,EACxB,GAAGH,OADqB;AAExBI,QAAAA,WAAW,EAAEH,OAAO,CAACI,IAFG;AAGxBC,QAAAA,UAAU,EAAEL,OAAO,CAACM;AAHI,OAA1B;AAMAhB,MAAAA,iBAAiB,CAACY,iBAAD,CAAjB;AACD,KAdD;;AAgBA,QAAId,SAAJ,EAAe;AACbU,MAAAA,mBAAmB,CAACV,SAAD,CAAnB;AACD,KA1Ba,CA4Bd;;;AACA,WAAO,MAAM;AACXE,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KAFD;AAGD,GAhCQ,EAgCN,CAACF,SAAD,CAhCM,CAAT;AAkCA,SAAO,CAACC,cAAD,EAAiBC,iBAAjB,CAAP;AACD,CAxCD;;GAAMH,iB;;AA0CN,eAAeA,iBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n//custom hook for relevant product details, company name and website\r\nconst useProductDetails = (productId) => {\r\n  // const [company, setCompany] = useState(null);\r\n  // const [product, setProduct] = useState(null);\r\n  const [productDetails, setProductDetails] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCompanyDetails = async (companyID) => {\r\n      const response = await fetch(`/companies/${companyID}`);\r\n      const resJSON = await response.json();\r\n      return resJSON.data;\r\n    };\r\n\r\n    // importing product into a useState\r\n    const fetchProductDetails = async (productId) => {\r\n      const response = await fetch(`/items/${productId}`);\r\n      const resJSON = await response.json();\r\n      const product = resJSON.data;\r\n\r\n      const company = await fetchCompanyDetails(product.companyId);\r\n\r\n      const productDetailsObj = {\r\n        ...product,\r\n        companyName: company.name,\r\n        companyUrl: company.url,\r\n      };\r\n\r\n      setProductDetails(productDetailsObj);\r\n    };\r\n\r\n    if (productId) {\r\n      fetchProductDetails(productId);\r\n    }\r\n\r\n    // cleanup\r\n    return () => {\r\n      setProductDetails(null);\r\n    };\r\n  }, [productId]);\r\n\r\n  return [productDetails, setProductDetails];\r\n};\r\n\r\nexport default useProductDetails;\r\n"]},"metadata":{},"sourceType":"module"}